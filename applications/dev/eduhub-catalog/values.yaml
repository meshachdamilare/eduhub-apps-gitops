
microservice:
  nameOverride: eduhub-catalog
  namespaceOverride: eduhub-catalog-dev

  image:
    repository: "aksacrusw7.azurecr.io/eduhub-catalog-service"
    tag: "develop-cc4b553"
    pullPolicy: IfNotPresent
    pullSecrets: []

  replicaCount: 2

  container:
    name: catalog
    containerPort: 8000

    envFrom:
      configMap: true   
      secret: true   

    probes:
      readiness: 
        enabled: true
        path: /health
        initialDelaySeconds: 10 
        periodSeconds: 10
        timeoutSeconds: 3
        failureThreshold: 6 

      liveness:  
        enabled: true
        path: /health
        initialDelaySeconds: 30
        periodSeconds: 15
        timeoutSeconds: 3
        failureThreshold: 4 

  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10

  config:
    enabled: true
    data:
      APP_NAME: "EduHub Catalog Service"
      APP_VERSION: "1.0.0"
      ENVIRONMENT: development
      DEBUG: "false"
      HOST: 0.0.0.0
      PORT: "8000"
      DB_POOL_SIZE: "20"
      DB_MAX_OVERFLOW: "10"
      CACHE_TTL: "300"
      JWT_ALGORITHM: HS256
      CORS_ORIGINS: '["https://educatalog.meshachdevops.online"]'
      AUTH_SERVICE_URL: http://eduhub-auth-service.eduhub-auth.svc.cluster.local

  secret:
    enabled: false
    existingSecret: eduhub-catalog-secrets

  ingress:
    enabled: true
    hosts:
      - host: educatalog.meshachdevops.online
        path: /
    tls:
      - secretName: educatalog-meshachdevops-online-tls
        hosts: [educatalog.meshachdevops.online]